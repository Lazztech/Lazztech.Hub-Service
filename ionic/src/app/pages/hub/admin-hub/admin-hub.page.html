<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Manage Hub</ion-title>
    <div slot="end">
      <ion-label color="primary" slot="end" (click)="save()">
          save &nbsp;
      </ion-label>
      <ion-label slot="end">
          &nbsp;
      </ion-label>
  </div>
    <ion-progress-bar *ngIf="loading" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">
  <app-hub-profile *ngIf="!loading" [hub]="userHub.hub" (click)="presentActionSheet()"></app-hub-profile>

  <ion-list>

    <ion-item *ngIf="!loading">
      <ion-label>
        <app-activity-dot class="ion-float-left ion-padding-end" [active]="userHub.hub.active">
        </app-activity-dot>
        <ion-text *ngIf="userHub.hub.active" color="success">Active</ion-text>
        <ion-text *ngIf="!userHub.hub.active" color="medium">Inactive</ion-text>
      </ion-label>
      <ion-toggle [(ngModel)]="userHub.hub.active" (ionChange)="activeToggle($event)" class="ion-float-right" color="success"></ion-toggle>
    </ion-item>

    <form *ngIf="userHub" [formGroup]="myForm" method="post">

      <ion-item>
        <ion-label position="stacked">Name</ion-label>
        <ion-input value="{{userHub.hub.name}}" [(ngModel)]="userHub.hub.name" formControlName="hubName"></ion-input>
      </ion-item>

      <ion-text class="ion-padding ion-text-center" color="danger">
        <p *ngIf="hubName.invalid && hubName.touched" color="danger">
          Required to have 25 character max
        </p>
      </ion-text>

      <ion-item>
        <ion-label position="stacked">Description</ion-label>
        <ion-textarea value="{{userHub.hub.description}}" [(ngModel)]="userHub.hub.description" formControlName="hubDescription"></ion-textarea>
      </ion-item>

      <ion-text class="ion-padding ion-text-center" color="danger">
        <p *ngIf="hubName.invalid && hubName.touched" color="danger">
          Required to have 25 character max
        </p>
      </ion-text>

    </form>

  </ion-list>

    <ion-item *ngIf="!loading" href="javascript:void(0);">
      <ion-icon name="warning" color="medium" slot="start"></ion-icon>
      <ion-label>Delete Hub</ion-label>
    </ion-item>


</ion-content>