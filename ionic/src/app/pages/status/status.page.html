<ion-header translucent="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Status</ion-title>
    <ion-progress-bar *ngIf="loading" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen="true">

  <ion-list>
    <ion-list-header class="ion-padding-bottom">
      Ghost Mode
    </ion-list-header>
    <ion-item>
      <ion-label>
        <ion-text *ngIf="!ghostModeIsOff">Ghost Mode Off</ion-text>
        <ion-text *ngIf="ghostModeIsOff" color="warning">Ghost Mode On</ion-text>
      </ion-label>
      <ion-toggle [(ngModel)]="ghostModeIsOff" (click)="activeGhostModeToggle()" class="ion-float-right"
        color="success"></ion-toggle>
    </ion-item>

    <ion-list-header class="ion-padding-bottom ion-padding-top">
      Geofence Settings Health
    </ion-list-header>

    <ion-item>
      <ion-label>
        <ion-text>Low Power Mode is off</ion-text>
        <ion-text *ngIf="lowPowerModeIsOff" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!lowPowerModeIsOff" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Should be off to allow reliable geofence exit/entry events and hub updates.</p>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-text>WiFi is on</ion-text>
        <ion-text *ngIf="wifi" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!wifi" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Used for low power method of detecting geofences.</p>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-text>Airplane Mode is off</ion-text>
        <ion-text *ngIf="airplaneMode" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!airplaneMode" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Needs to be off to detect geofences and update hubs.</p>
      </ion-label>
    </ion-item>

    <ion-list-header class="ion-padding-bottom ion-padding-top">
      Geofence Permissions Health
    </ion-list-header>
  
    <ion-item>
      <ion-label>
        <ion-text>Location Always Permissions</ion-text>
        <ion-text *ngIf="locationAlwaysPermission" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!locationAlwaysPermission" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Needed to enable geofences while the app is in the background.</p>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-text>Motion & Fitness Permissions</ion-text>
        <ion-text *ngIf="locationAlwaysPermission" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!locationAlwaysPermission" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Detects motion to trigger to trigger location sensing. This conserves power.</p>
      </ion-label>
    </ion-item>

    <ion-item>
      <ion-label>
        <ion-text>Background App Refresh</ion-text>
        <ion-text *ngIf="locationAlwaysPermission" class="ion-float-right">✅</ion-text>
        <ion-text *ngIf="!locationAlwaysPermission" class="ion-float-right">❌</ion-text>
        <p class="ion-text-wrap">Needed to update hubs while the app is in the background.</p>
      </ion-label>
    </ion-item>

  </ion-list>

</ion-content>
